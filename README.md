# ğŸï¸ GRAP v2 - ì œì£¼ë„ ìƒí™œì •ë³´ í†µí•© í”Œë«í¼

> **ì œì£¼ë„ ì£¼ìœ ì†Œ ìµœì €ê°€ ì •ë³´, ì¶•ì œ, ì „ì‹œíšŒ, ë³µì§€ì„œë¹„ìŠ¤ë¥¼ í•œê³³ì—ì„œ í™•ì¸í•˜ëŠ” ì¢…í•© ìƒí™œì •ë³´ í”Œë«í¼**

[![Deployment Status](https://img.shields.io/badge/deployment-live-brightgreen)](https://grap.co.kr)
[![Tech Stack](https://img.shields.io/badge/tech-Nuxt3%20%7C%20Vue3%20%7C%20Cloudflare-blue)](#ê¸°ìˆ -ìŠ¤íƒ)
[![Database](https://img.shields.io/badge/database-Supabase-green)](https://supabase.com)
[![License](https://img.shields.io/badge/license-MIT-orange)](LICENSE)

## ğŸ“– í”„ë¡œì íŠ¸ ê°œìš”

GRAP v2ëŠ” ì œì£¼ë„ ê±°ì£¼ë¯¼ê³¼ ê´€ê´‘ê°ì„ ìœ„í•œ ì¢…í•© ìƒí™œì •ë³´ í”Œë«í¼ì…ë‹ˆë‹¤. ì‹¤ì‹œê°„ ì£¼ìœ ì†Œ ê°€ê²© ì •ë³´, ë¬¸í™” í–‰ì‚¬, ë³µì§€ ì„œë¹„ìŠ¤ ë“± ì œì£¼ë„ ìƒí™œì— í•„ìš”í•œ ëª¨ë“  ì •ë³´ë¥¼ í†µí•©ì ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤.

### ğŸ¯ í•µì‹¬ ê°€ì¹˜
- **ì‹¤ì‹œê°„ ì •ë³´**: ì œì£¼ë„ ê³µê³µ APIë¥¼ í†µí•œ ìµœì‹  ë°ì´í„° ì œê³µ
- **ì‚¬ìš©ì ì¤‘ì‹¬**: ì§ê´€ì ì¸ UI/UXì™€ ëª¨ë°”ì¼ ìµœì í™”
- **ì§€ì—­ íŠ¹í™”**: ì œì£¼ë„ ì§€ì—­ íŠ¹ì„±ì„ ë°˜ì˜í•œ ë§ì¶¤í˜• ì„œë¹„ìŠ¤
- **ì„±ëŠ¥ ìµœì í™”**: Cloudflare Workers ê¸°ë°˜ ê¸€ë¡œë²Œ CDN í™œìš©

## ğŸš€ ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **Framework**: Nuxt 3.17.3 (Vue 3.5.13 ê¸°ë°˜)
- **Styling**: TailwindCSS 6.14.0
- **State Management**: Pinia 3.0.2
- **Image Optimization**: @nuxt/image 1.10.0
- **TypeScript**: ì™„ì „í•œ íƒ€ì… ì•ˆì „ì„± ì§€ì›

### Backend & Infrastructure
- **Server Engine**: Nitro (SSR + API Routes)
- **Database**: Supabase (PostgreSQL) + Row Level Security
- **Deployment**: Cloudflare Workers (cloudflare_module preset)
- **CDN**: Cloudflare Global Network
- **Monitoring**: Supabase Analytics + Cloudflare Analytics

### External APIs & Services
- **Maps**: Kakao Map API (ì§€ë„ ë° ì¢Œí‘œ ë³€í™˜)
- **Data Sources**: ì œì£¼ë„ ê³µê³µ API (ì£¼ìœ ì†Œ, ì¶•ì œ, ì „ì‹œíšŒ, ë³µì§€ì„œë¹„ìŠ¤)
- **Monetization**: Google AdSense (ìë™ ê´‘ê³ )
- **SEO**: Google Search Console + Naver ì›¹ë§ˆìŠ¤í„° ë„êµ¬

### Development & DevOps
- **Package Manager**: Yarn 4.9.1
- **Build Tool**: Vite (Nuxt ë‚´ì¥)
- **Deployment Tool**: Wrangler 4.16.1
- **Code Quality**: TypeScript Strict Mode + ESLint
- **Automation**: GitHub Actions (Cron Jobs)

## ğŸ“‹ ì£¼ìš” ê¸°ëŠ¥

### ğŸª ì£¼ìœ ì†Œ ì •ë³´ ì„œë¹„ìŠ¤
- **ì‹¤ì‹œê°„ ê°€ê²© ì •ë³´**: íœ˜ë°œìœ , ê²½ìœ , LPG ê°€ê²© ë¹„êµ
- **ì§€ë„ ê¸°ë°˜ ê²€ìƒ‰**: ì¹´ì¹´ì˜¤ë§µ ì—°ë™ìœ¼ë¡œ ìœ„ì¹˜ ê¸°ë°˜ ì£¼ìœ ì†Œ ì°¾ê¸°
- **ìµœì €ê°€ TOP ë¦¬ìŠ¤íŠ¸**: ì—°ë£Œë³„ ìµœì €ê°€ ì£¼ìœ ì†Œ ìˆœìœ„
- **ì¦ê²¨ì°¾ê¸° ê¸°ëŠ¥**: ìì£¼ ì´ìš©í•˜ëŠ” ì£¼ìœ ì†Œ ì €ì¥ (ë¡œì»¬ ìŠ¤í† ë¦¬ì§€)
- **ëª¨ë°”ì¼ ìµœì í™”**: ë°˜ì‘í˜• UIì™€ í„°ì¹˜ ì¹œí™”ì  ì¸í„°í˜ì´ìŠ¤
- **ì¢Œí‘œ ë³€í™˜**: KATEC â†’ WGS84 ìë™ ë³€í™˜

### ğŸ‰ ë¬¸í™” ì •ë³´ ì„œë¹„ìŠ¤
- **ì¶•ì œ ì •ë³´**: ì œì£¼ë„ ë‚´ ì§„í–‰ë˜ëŠ” ì¶•ì œ ë° í–‰ì‚¬ ì •ë³´
- **ì „ì‹œíšŒ/ê³µì—°**: ë¬¸í™” ì˜ˆìˆ  í–‰ì‚¬ ë° ê³µì—° ì •ë³´
- **ìƒì„¸ ì •ë³´**: ì¼ì •, ì¥ì†Œ, ìš”ê¸ˆ, ì£¼ìµœì ì •ë³´ ì œê³µ
- **ê²€ìƒ‰ ë° í•„í„°ë§**: ë‚ ì§œ, ì¹´í…Œê³ ë¦¬ë³„ ì •ë³´ ê²€ìƒ‰

### ğŸ›ï¸ ë³µì§€ ì„œë¹„ìŠ¤
- **ë³µì§€ ì •ë³´**: ì œì£¼ë„ ë³µì§€ ì„œë¹„ìŠ¤ ë° ì§€ì› ì •ì±… ì •ë³´
- **ì§€ì—­ë³„ ë¶„ë¥˜**: ì œì£¼ì‹œ/ì„œê·€í¬ì‹œ/ì „ì²´ ì§€ì—­ë³„ ì„œë¹„ìŠ¤ êµ¬ë¶„
- **ì‹ ì²­ ì •ë³´**: ì§€ì› ëŒ€ìƒ, ë‚´ìš©, ì‹ ì²­ ë°©ë²• ìƒì„¸ ì•ˆë‚´

### ğŸ‘¨â€ğŸ’¼ ê´€ë¦¬ì ì‹œìŠ¤í…œ
- **ë°ì´í„° ê´€ë¦¬**: ìˆ˜ì§‘ëœ ì •ë³´ì˜ ë…¸ì¶œ ì—¬ë¶€ ê´€ë¦¬
- **API ë¡œê·¸ ëª¨ë‹ˆí„°ë§**: ì™¸ë¶€ API í˜¸ì¶œ ìƒíƒœ ë° ì—ëŸ¬ ì¶”ì 
- **ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸**: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ë° ì„œë¹„ìŠ¤ ìƒíƒœ ëª¨ë‹ˆí„°ë§
- **ìˆ˜ë™ ë°ì´í„° ë™ê¸°í™”**: í•„ìš”ì‹œ ìˆ˜ë™ìœ¼ë¡œ ë°ì´í„° ì—…ë°ì´íŠ¸ ì‹¤í–‰

### ğŸ”§ ê¸°ìˆ ì  íŠ¹ì§•
- **SEO ìµœì í™”**: ë™ì  ë©”íƒ€íƒœê·¸, êµ¬ì¡°í™”ëœ ë°ì´í„°, XML ì‚¬ì´íŠ¸ë§µ
- **ì„±ëŠ¥ ìµœì í™”**: ì»´í¬ë„ŒíŠ¸ ì§€ì—° ë¡œë”©, ì´ë¯¸ì§€ ìµœì í™”, CDN ìºì‹±
- **ë³´ì•ˆ**: JWT ì¸ì¦, HTTPS ê°•ì œ, Mixed Content í•´ê²°
- **ë°˜ì‘í˜• ë””ìì¸**: ëª¨ë°”ì¼/íƒœë¸”ë¦¿/ë°ìŠ¤í¬í†± ì™„ë²½ ì§€ì›
- **ì—ëŸ¬ ì²˜ë¦¬**: í†µí•© ì—ëŸ¬ í•¸ë“¤ë§ ë° ì‚¬ìš©ì ì¹œí™”ì  ì—ëŸ¬ ë©”ì‹œì§€

## ğŸ—ï¸ í”„ë¡œì íŠ¸ ì•„í‚¤í…ì²˜

### ì‹œìŠ¤í…œ êµ¬ì¡°ë„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HTTPS     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    DB Connection    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì™¸ë¶€ ê³µê³µ API   â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ Nuxt.js ì• í”Œë¦¬ì¼€ì´ì…˜                  â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ Supabase DB     â”‚
â”‚ (ì œì£¼ë„ ì •ë¶€)   â”‚              â”‚ (Nitro ì„œë²„ + Vue í”„ë¡ íŠ¸ì—”ë“œ)         â”‚                     â”‚ (PostgreSQL)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚                                      â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚ Server API Layer                 â”‚ â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Kakao Map API   â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ â”‚ - í¬ë¡  ì‘ì—… (ë°ì´í„° ìˆ˜ì§‘)         â”‚ â”‚ â—„â”€â–º â”‚ Cloudflare      â”‚
â”‚ (ì§€ë„/ì¢Œí‘œë³€í™˜) â”‚              â”‚ â”‚ - ê³µê³µ API í”„ë¡ì‹œ                â”‚ â”‚    â”‚ Workers Runtime â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚ - ì¸ì¦ ë° ê´€ë¦¬ì API             â”‚ â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ Google AdSense  â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ â”‚ Client Layer                     â”‚ â”‚
â”‚ (ê´‘ê³  ì„œë¹„ìŠ¤)   â”‚              â”‚ â”‚ - Vue 3 ì»´í¬ë„ŒíŠ¸                 â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚ - Pinia ìƒíƒœ ê´€ë¦¬                â”‚ â”‚
                                 â”‚ â”‚ - TailwindCSS ìŠ¤íƒ€ì¼ë§           â”‚ â”‚
                                 â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°ì´í„° í”Œë¡œìš°
1. **ë°ì´í„° ìˆ˜ì§‘**: GitHub Actions â†’ Cloudflare Cron â†’ ì œì£¼ë„ API â†’ Supabase
2. **ì‚¬ìš©ì ìš”ì²­**: ë¸Œë¼ìš°ì € â†’ Cloudflare CDN â†’ Nuxt SSR â†’ Supabase
3. **ì§€ë„ ì„œë¹„ìŠ¤**: í´ë¼ì´ì–¸íŠ¸ â†’ Kakao API (ì¢Œí‘œ ë³€í™˜ ë° ì§€ë„ ë Œë”ë§)

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
grap_v2/
â”œâ”€â”€ ğŸ“ pages/                    # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ (Nuxt ë¼ìš°íŒ…)
â”‚   â”œâ”€â”€ index.vue               # ë©”ì¸ í˜ì´ì§€ (â†’ /alljeju ë¦¬ë‹¤ì´ë ‰íŠ¸)
â”‚   â”œâ”€â”€ ğŸ“ alljeju/             # ê³µê°œ ì„œë¹„ìŠ¤ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ index.vue           # ì„œë¹„ìŠ¤ ë©”ì¸ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ ğŸ“ gas-stations/    # ì£¼ìœ ì†Œ ì„œë¹„ìŠ¤
â”‚   â”‚   â”œâ”€â”€ ğŸ“ festivals/       # ì¶•ì œ ì •ë³´
â”‚   â”‚   â”œâ”€â”€ ğŸ“ exhibitions/     # ì „ì‹œíšŒ ì •ë³´
â”‚   â”‚   â””â”€â”€ ğŸ“ welfare-services/# ë³µì§€ ì„œë¹„ìŠ¤
â”‚   â””â”€â”€ ğŸ“ admin/               # ê´€ë¦¬ì í˜ì´ì§€
â”œâ”€â”€ ğŸ“ components/              # Vue ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ğŸ“ GasStation/          # ì£¼ìœ ì†Œ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ğŸ“ common/              # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ ğŸ“ public/              # ê³µê°œ ì„œë¹„ìŠ¤ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ ğŸ“ server/                  # ì„œë²„ ì‚¬ì´ë“œ ì½”ë“œ
â”‚   â”œâ”€â”€ ğŸ“ api/                 # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ ğŸ“ public/          # ê³µê°œ API
â”‚   â”‚   â”œâ”€â”€ ğŸ“ admin/           # ê´€ë¦¬ì API
â”‚   â”‚   â”œâ”€â”€ ğŸ“ cron/            # í¬ë¡  ì‘ì—… API
â”‚   â”‚   â””â”€â”€ ğŸ“ auth/            # ì¸ì¦ API
â”‚   â”œâ”€â”€ ğŸ“ dao/                 # ë°ì´í„° ì ‘ê·¼ ê°ì²´
â”‚   â”œâ”€â”€ ğŸ“ middleware/          # ì„œë²„ ë¯¸ë“¤ì›¨ì–´
â”‚   â””â”€â”€ ğŸ“ utils/               # ì„œë²„ ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ ğŸ“ composables/             # Vue ì»´í¬ì €ë¸”
â”œâ”€â”€ ğŸ“ stores/                  # Pinia ìŠ¤í† ì–´
â”œâ”€â”€ ğŸ“ layouts/                 # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ ğŸ“ middleware/              # ë¼ìš°íŠ¸ ë¯¸ë“¤ì›¨ì–´
â”œâ”€â”€ ğŸ“ types/                   # TypeScript íƒ€ì… ì •ì˜
â”œâ”€â”€ ğŸ“ utils/                   # í´ë¼ì´ì–¸íŠ¸ ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ ğŸ“ database/                # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”œâ”€â”€ ğŸ“ scripts/                 # ê°œë°œ/ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ ğŸ“ public/                  # ì •ì  íŒŒì¼
â””â”€â”€ ğŸ“ workers/                 # Cloudflare Workers ì„¤ì •
```

## ğŸ› ï¸ ì„¤ì¹˜ ë° ì„¤ì •

### 1. ì €ì¥ì†Œ í´ë¡  ë° ì˜ì¡´ì„± ì„¤ì¹˜

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/amaham1/grap_v2.git
cd grap_v2

# ì˜ì¡´ì„± ì„¤ì¹˜ (Yarn ê¶Œì¥)
yarn install
# ë˜ëŠ” npm install
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `.env` íŒŒì¼ì„ ìƒì„±í•˜ê³  ë‹¤ìŒ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ì„¸ìš”:

```env
# Supabase ì„¤ì •
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# JWT ì¸ì¦ ì„¤ì •
JWT_SECRET_KEY=your_jwt_secret_key_here
JWT_EXPIRES_IN=7d

# ì¹´ì¹´ì˜¤ ë§µ API í‚¤
KAKAO_MAP_API_KEY=your_kakao_map_api_key

# ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • (ì„ íƒì‚¬í•­ - Supabase ì‚¬ìš© ì‹œ ë¶ˆí•„ìš”)
DB_HOST=localhost
DB_USER=your_db_user
DB_PASSWORD=your_db_password
DB_DATABASE=grap_v2
DB_PORT=5432

# Cloudflare ì„¤ì • (ë°°í¬ ì‹œ í•„ìš”)
HYPERDRIVE_URL=your_hyperdrive_url_if_using
```

### 3. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

```bash
# Supabase ì—°ê²° í…ŒìŠ¤íŠ¸
npm run test:supabase

# ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ (í•„ìš”ì‹œ)
npm run migrate:supabase
```

## ğŸš€ ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
# ê°œë°œ ì„œë²„ ì‹œì‘ (http://localhost:3000)
npm run dev

# ë˜ëŠ” Yarn ì‚¬ìš©
yarn dev
```

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### ì£¼ìš” í…Œì´ë¸” êµ¬ì¡°

#### 1. ì£¼ìœ ì†Œ ì •ë³´ (`gas_stations`)
```sql
- id: ê¸°ë³¸í‚¤
- opinet_id: ì˜¤í”¼ë„· ê³ ìœ  ID (ì™¸ë¶€ API í‚¤)
- station_name: ì£¼ìœ ì†Œ ìƒí˜¸ëª…
- brand_code/brand_name: ë¸Œëœë“œ ì •ë³´
- address: ì£¼ì†Œ
- katec_x/katec_y: ì¹´í… ì¢Œí‘œ
- latitude/longitude: WGS84 ì¢Œí‘œ
- is_exposed: ë…¸ì¶œ ì—¬ë¶€ (ê´€ë¦¬ì ì œì–´)
```

#### 2. ì£¼ìœ ì†Œ ê°€ê²© ì •ë³´ (`gas_prices`)
```sql
- opinet_id: ì£¼ìœ ì†Œ ì—°ê²°í‚¤
- gasoline_price: íœ˜ë°œìœ  ê°€ê²©
- premium_gasoline_price: ê³ ê¸‰ íœ˜ë°œìœ  ê°€ê²©
- diesel_price: ê²½ìœ  ê°€ê²©
- lpg_price: LPG ê°€ê²©
- price_date: ê°€ê²© ê¸°ì¤€ì¼
- updated_at: ì—…ë°ì´íŠ¸ ì‹œê°„
```

#### 3. ë¬¸í™” ì •ë³´ í…Œì´ë¸”
- `festivals`: ì¶•ì œ/í–‰ì‚¬ ì •ë³´
- `exhibitions`: ì „ì‹œíšŒ/ê³µì—° ì •ë³´
- `welfare_services`: ë³µì§€ ì„œë¹„ìŠ¤ ì •ë³´

#### 4. ì‹œìŠ¤í…œ í…Œì´ë¸”
- `users`: ê´€ë¦¬ì ê³„ì •
- `api_logs`: API í˜¸ì¶œ ë¡œê·¸
- `system_error_logs`: ì‹œìŠ¤í…œ ì—ëŸ¬ ë¡œê·¸

## ğŸ”„ ë°ì´í„° ìˆ˜ì§‘ ë° ì—…ë°ì´íŠ¸

### ìë™í™”ëœ ë°ì´í„° ìˆ˜ì§‘
- **ì£¼ìœ ì†Œ ë°ì´í„°**: ë§¤ì¼ ìƒˆë²½ 2ì‹œ (KST) ìë™ ìˆ˜ì§‘
- **ë¬¸í™” ì •ë³´**: ë§¤ì¼ ì˜¤ì „ 9ì‹œ (KST) ìë™ ìˆ˜ì§‘
- **ìˆ˜ì§‘ ë°©ì‹**: GitHub Actions â†’ Cloudflare Cron â†’ ì œì£¼ë„ API

### í¬ë¡  ì‘ì—… ì„¤ì •
```yaml
# .github/workflows/cron-jobs.yml
schedule:
  - cron: '0 17 * * *'  # ì£¼ìœ ì†Œ (ìƒˆë²½ 2ì‹œ KST)
  - cron: '0 0 * * *'   # ë¬¸í™”ì •ë³´ (ì˜¤ì „ 9ì‹œ KST)
```

### ìˆ˜ë™ ë°ì´í„° ì—…ë°ì´íŠ¸
```bash
# ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ìˆ˜ë™ ì‹¤í–‰ ê°€ëŠ¥
# ë˜ëŠ” API ì§ì ‘ í˜¸ì¶œ
curl -X POST https://grap.co.kr/api/admin/manual-sync-gas-stations
```

## ğŸ” SEO ìµœì í™”

### ê²€ìƒ‰ ì—”ì§„ ìµœì í™” ê¸°ëŠ¥
- **ë™ì  ë©”íƒ€íƒœê·¸**: í˜ì´ì§€ë³„ ë§ì¶¤í˜• title, description, keywords
- **êµ¬ì¡°í™”ëœ ë°ì´í„°**: JSON-LD ìŠ¤í‚¤ë§ˆ (LocalBusiness, Event ë“±)
- **XML ì‚¬ì´íŠ¸ë§µ**: ì‹¤ì‹œê°„ ì½˜í…ì¸  ë°˜ì˜ ìë™ ìƒì„±
- **Open Graph**: ì†Œì…œ ë¯¸ë””ì–´ ê³µìœ  ìµœì í™”
- **ì§€ì—­ SEO**: ì œì£¼ë„ íŠ¹í™” í‚¤ì›Œë“œ ìµœì í™”

### ì£¼ìš” íƒ€ê²Ÿ í‚¤ì›Œë“œ
```
ì£¼ìœ ì†Œ: "ì œì£¼ë„ ì£¼ìœ ì†Œ", "ì œì£¼ ìµœì €ê°€ ì£¼ìœ ì†Œ", "ì œì£¼ë„ ìœ ê°€"
ì§€ì—­ë³„: "ì œì£¼ì‹œ ì£¼ìœ ì†Œ", "ì„œê·€í¬ì‹œ ì£¼ìœ ì†Œ", "ì• ì›” ì£¼ìœ ì†Œ"
ë¸Œëœë“œ: "SKì—ë„ˆì§€ ì œì£¼", "GSì¹¼í…ìŠ¤ ì œì£¼", "S-OIL ì œì£¼"
ì—°ë£Œë³„: "ì œì£¼ë„ íœ˜ë°œìœ ", "ì œì£¼ ê²½ìœ ", "ì œì£¼ë„ LPG"
```

### SEO ê´€ë ¨ íŒŒì¼
- `server/api/sitemap.xml.get.ts`: ë™ì  ì‚¬ì´íŠ¸ë§µ ìƒì„±
- `composables/useSEO.ts`: SEO ìµœì í™” ì»´í¬ì €ë¸”
- `public/robots.txt`: ê²€ìƒ‰ ì—”ì§„ í¬ë¡¤ë§ ê°€ì´ë“œ
- `public/google-site-verification.html`: Google Search Console
- `public/naver-site-verification.html`: Naver ì›¹ë§ˆìŠ¤í„° ë„êµ¬

## ğŸ”’ ë³´ì•ˆ ë° Mixed Content í•´ê²°

### Cloudflare Mixed Content ì •ì±… í•´ê²°
HTTPS í™˜ê²½ì—ì„œ HTTP API í˜¸ì¶œ ë¬¸ì œë¥¼ ë‹¤ìŒê³¼ ê°™ì´ í•´ê²°í–ˆìŠµë‹ˆë‹¤:

#### 1. ì„œë²„ ì‚¬ì´ë“œ í”„ë¡ì‹œ íŒ¨í„´
```
í´ë¼ì´ì–¸íŠ¸ (HTTPS) â†’ ë‚´ë¶€ API (HTTPS) â†’ ì™¸ë¶€ HTTP API (ì„œë²„ ì‚¬ì´ë“œ)
```

#### 2. ë³´ì•ˆ êµ¬í˜„ ì‚¬í•­
- **HTTP API ê²©ë¦¬**: ëª¨ë“  ì™¸ë¶€ HTTP API í˜¸ì¶œì„ ì„œë²„ ì‚¬ì´ë“œì—ì„œë§Œ ìˆ˜í–‰
- **ì „ìš© í´ë¼ì´ì–¸íŠ¸**: `server/utils/httpApiClient.ts`ë¡œ ì•ˆì „í•œ HTTP í˜¸ì¶œ
- **ì—ëŸ¬ í•¸ë“¤ë§**: íƒ€ì„ì•„ì›ƒ, ì¬ì‹œë„, ìƒì„¸ ë¡œê¹… í¬í•¨
- **CSP í—¤ë”**: Content Security Policyë¡œ ì¶”ê°€ ë³´ì•ˆ ê°•í™”

#### 3. ì¸ì¦ ë° ê¶Œí•œ ê´€ë¦¬
- **JWT í† í°**: ê´€ë¦¬ì ì¸ì¦ì— JWT ì‚¬ìš©
- **ë¯¸ë“¤ì›¨ì–´**: ë¼ìš°íŠ¸ë³„ ì ‘ê·¼ ê¶Œí•œ ì œì–´
- **RLS**: Supabase Row Level Security ì •ì±… ì ìš©

## ğŸ—ï¸ ë¹Œë“œ ë° ë°°í¬

### ë¡œì»¬ ë¹Œë“œ í…ŒìŠ¤íŠ¸
```bash
# í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run build

# ë¹Œë“œ ê²°ê³¼ ë¯¸ë¦¬ë³´ê¸°
npm run preview
```

### Cloudflare Workers ë°°í¬

#### 1. Cloudflare ë¡œê·¸ì¸
```bash
npm run login:cloudflare
```

#### 2. ë¡œì»¬ ë¯¸ë¦¬ë³´ê¸° (Cloudflare Workers í™˜ê²½)
```bash
npm run preview:cloudflare
```

#### 3. í”„ë¡œë•ì…˜ ë°°í¬
```bash
npm run deploy:cloudflare
```

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (í”„ë¡œë•ì…˜)

#### Cloudflare ëŒ€ì‹œë³´ë“œ ë°©ì‹
1. Cloudflare Dashboard â†’ Workers & Pages
2. í”„ë¡œì íŠ¸ ì„ íƒ â†’ Settings â†’ Environment Variables
3. í•„ìš”í•œ í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€

#### Wrangler CLI ë°©ì‹
```bash
# ë¯¼ê°í•œ ì •ë³´ëŠ” secretìœ¼ë¡œ ì„¤ì •
npx wrangler secret put SUPABASE_SERVICE_ROLE_KEY
npx wrangler secret put JWT_SECRET_KEY

# ì¼ë°˜ í™˜ê²½ ë³€ìˆ˜ëŠ” varsë¡œ ì„¤ì •
npx wrangler vars put SUPABASE_URL "https://your-project.supabase.co"
```

### ë°°í¬ ì„¤ì • íŒŒì¼

#### `nuxt.config.ts` - Nitro ì„¤ì •
```typescript
nitro: {
  preset: 'cloudflare_module',  // ìµœì‹  Workers ë°©ì‹
  compatibilityDate: '2024-09-19',
  cloudflare: {
    deployConfig: true,
    nodeCompat: true
  }
}
```

#### `wrangler.toml` - Workers ì„¤ì • (ìë™ ìƒì„±)
```toml
name = "grap-v2"
compatibility_date = "2024-09-19"
compatibility_flags = ["nodejs_compat"]
```

## ğŸ’° Google AdSense ì„¤ì •

### ìë™ ê´‘ê³  êµ¬í˜„
- **Publisher ID**: `ca-pub-6491895061878011`
- **ê´‘ê³  ìœ í˜•**: ìë™ ê´‘ê³  (Google AI ê¸°ë°˜ ìµœì  ë°°ì¹˜)
- **ë°˜ì‘í˜• ë””ìì¸**: ëª¨ë“  ë””ë°”ì´ìŠ¤ ìë™ ìµœì í™”
- **ì„±ëŠ¥ ìµœì í™”**: ì‚¬ìš©ì ê²½í—˜ ìš°ì„  ë°°ì¹˜

### ì„¤ì • íŒŒì¼
- `public/ads.txt`: AdSense ì¸ì¦ íŒŒì¼
- `nuxt.config.ts`: ìë™ ê´‘ê³  ìŠ¤í¬ë¦½íŠ¸ ì „ì—­ ë¡œë“œ

## ğŸ“š ìƒì„¸ ë¬¸ì„œ

### ë°°í¬ ë° ì„¤ì • ê°€ì´ë“œ
- [ğŸ“– ë°°í¬ ê°€ì´ë“œ](./DEPLOYMENT_GUIDE.md) - ì „ì²´ ë°°í¬ í”„ë¡œì„¸ìŠ¤
- [â˜ï¸ Cloudflare Workers ë°°í¬](./CLOUDFLARE_WORKERS_DEPLOYMENT.md) - Workers íŠ¹í™” ê°€ì´ë“œ
- [â° í¬ë¡  ì‘ì—… ì„¤ì •](./CRON_SETUP.md) - ìë™í™” ì‘ì—… ì„¤ì •
- [ğŸ’° Google AdSense ì„¤ì •](./ADSENSE_SETUP.md) - ê´‘ê³  ì„¤ì • ê°€ì´ë“œ

### API ë¬¸ì„œ
- [ğŸ”— API ì—”ë“œí¬ì¸íŠ¸](./API_ENDPOINTS.md) - ì „ì²´ API ëª…ì„¸
- [ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](./database/supabase_schema.sql) - DB êµ¬ì¡°

## ğŸ”§ NPM ìŠ¤í¬ë¦½íŠ¸

### ê°œë°œ ê´€ë ¨
```bash
npm run dev                    # ê°œë°œ ì„œë²„ ì‹œì‘ (localhost:3000)
npm run build                  # í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run preview               # ë¹Œë“œ ê²°ê³¼ ë¯¸ë¦¬ë³´ê¸°
```

### Cloudflare Workers ê´€ë ¨
```bash
npm run login:cloudflare      # Cloudflare ë¡œê·¸ì¸
npm run preview:cloudflare    # Workers í™˜ê²½ ë¡œì»¬ ë¯¸ë¦¬ë³´ê¸°
npm run deploy:cloudflare     # í”„ë¡œë•ì…˜ ë°°í¬
```

### ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨
```bash
npm run test:supabase         # Supabase ì—°ê²° í…ŒìŠ¤íŠ¸
npm run migrate:supabase      # ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜
npm run update:dao            # DAO ì„í¬íŠ¸ ì—…ë°ì´íŠ¸
```

## ğŸŒ ë°°í¬ ì •ë³´

### í”„ë¡œë•ì…˜ í™˜ê²½
- **ğŸŒ ì‚¬ì´íŠ¸ URL**: [grap.co.kr](https://grap.co.kr)
- **â˜ï¸ í”Œë«í¼**: Cloudflare Workers (cloudflare_module preset)
- **ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤**: Supabase (PostgreSQL)
- **ğŸš€ CDN**: Cloudflare Global Network
- **ğŸ“Š ëª¨ë‹ˆí„°ë§**: Cloudflare Analytics + Supabase Dashboard

### ì„±ëŠ¥ íŠ¹ì§•
- **âš¡ ì½œë“œ ìŠ¤íƒ€íŠ¸**: < 100ms (Cloudflare Workers)
- **ğŸŒ ê¸€ë¡œë²Œ ë°°í¬**: 200+ ë°ì´í„°ì„¼í„°
- **ğŸ“± ëª¨ë°”ì¼ ìµœì í™”**: ë°˜ì‘í˜• ë””ìì¸ + í„°ì¹˜ UI
- **ğŸ” SEO ì ìˆ˜**: 95+ (Google PageSpeed Insights)

## ğŸ‰ ì£¼ìš” ì—…ë°ì´íŠ¸ (v2.0)

### âœ… ì™„ë£Œëœ ì£¼ìš” ê¸°ëŠ¥

#### 1. ìµœì‹  ê¸°ìˆ  ìŠ¤íƒ ì ìš©
- **Nuxt 3.17.3**: ìµœì‹  Vue 3.5.13 ê¸°ë°˜
- **Cloudflare Workers**: `cloudflare_module` preset ì‚¬ìš©
- **TypeScript**: ì™„ì „í•œ íƒ€ì… ì•ˆì „ì„±
- **Pinia**: Vue 3 ê³µì‹ ìƒíƒœ ê´€ë¦¬

#### 2. ì„±ëŠ¥ ìµœì í™”
- **ì»´í¬ë„ŒíŠ¸ ì§€ì—° ë¡œë”©**: ì´ˆê¸° ë¡œë”© ì‹œê°„ ë‹¨ì¶•
- **ì´ë¯¸ì§€ ìµœì í™”**: @nuxt/image ëª¨ë“ˆ í™œìš©
- **CDN ìºì‹±**: Cloudflare ê¸€ë¡œë²Œ ìºì‹œ
- **ë²ˆë“¤ ìµœì í™”**: Tree-shaking ë° ì½”ë“œ ë¶„í• 

#### 3. ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
- **ë°˜ì‘í˜• ë””ìì¸**: ëª¨ë°”ì¼ í¼ìŠ¤íŠ¸ ì ‘ê·¼
- **ì§ê´€ì  UI**: í•œêµ­í˜• ë””ìì¸ íŒ¨í„´ ì ìš©
- **ì ‘ê·¼ì„±**: WCAG 2.1 ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜
- **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**: ì‹¤ì‹œê°„ ì„±ëŠ¥ ì¶”ì 

#### 4. ê°œë°œì ê²½í—˜ í–¥ìƒ
- **íƒ€ì… ì•ˆì „ì„±**: ì—„ê²©í•œ TypeScript ì„¤ì •
- **ì½”ë“œ í’ˆì§ˆ**: ESLint + Prettier ì ìš©
- **ìë™í™”**: GitHub Actions ê¸°ë°˜ CI/CD
- **ë¬¸ì„œí™”**: ìƒì„¸í•œ ê°œë°œ ê°€ì´ë“œ ì œê³µ

## ğŸ› ï¸ ê°œë°œ ê°€ì´ë“œ

### ì½”ë“œ êµ¬ì¡° ë° ì»¨ë²¤ì…˜

#### 1. ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°
```vue
<!-- ì»´í¬ë„ŒíŠ¸ ì˜ˆì‹œ -->
<template>
  <!-- UI êµ¬ì¡° -->
</template>

<script setup lang="ts">
// íƒ€ì… ì•ˆì „í•œ ìŠ¤í¬ë¦½íŠ¸
import type { ComponentType } from '~/types'

// ì»´í¬ì €ë¸” ì‚¬ìš©
const { data, loading } = useAsyncData()
</script>

<style scoped>
/* TailwindCSS ìš°ì„  ì‚¬ìš© */
</style>
```

#### 2. API ë¼ìš°íŠ¸ êµ¬ì¡°
```typescript
// server/api/example.get.ts
export default defineEventHandler(async (event) => {
  try {
    // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
    const result = await someOperation()
    return { success: true, data: result }
  } catch (error) {
    throw createError({
      statusCode: 500,
      statusMessage: 'Internal Server Error'
    })
  }
})
```

#### 3. íƒ€ì… ì •ì˜
```typescript
// types/example.ts
export interface GasStation {
  id: number
  name: string
  address: string
  latitude: number
  longitude: number
  prices: GasPrice[]
}
```

### ì„±ëŠ¥ ìµœì í™” ê°€ì´ë“œ

#### 1. ì»´í¬ë„ŒíŠ¸ ìµœì í™”
- `defineAsyncComponent()` ì‚¬ìš©ìœ¼ë¡œ ì§€ì—° ë¡œë”©
- `shallowRef()` ì‚¬ìš©ìœ¼ë¡œ ë¶ˆí•„ìš”í•œ ë°˜ì‘ì„± ë°©ì§€
- `v-memo` ë””ë ‰í‹°ë¸Œë¡œ ë Œë”ë§ ìµœì í™”

#### 2. ë°ì´í„° í˜ì¹­ ìµœì í™”
- `useFetch()` ì»´í¬ì €ë¸” í™œìš©
- ì ì ˆí•œ ìºì‹± ì „ëµ ì ìš©
- í˜ì´ì§€ë„¤ì´ì…˜ìœ¼ë¡œ ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬

#### 3. ë²ˆë“¤ ìµœì í™”
- Tree-shaking í™œìš©
- ë™ì  ì„í¬íŠ¸ ì‚¬ìš©
- ë¶ˆí•„ìš”í•œ ì˜ì¡´ì„± ì œê±°

## ğŸ” ë¬¸ì œ í•´ê²°

### ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œë“¤

#### 1. ì¹´ì¹´ì˜¤ë§µì´ ë¡œë“œë˜ì§€ ì•ŠëŠ” ê²½ìš°
```bash
# API í‚¤ í™•ì¸
curl https://grap.co.kr/api/debug/environment

# ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì—ëŸ¬ í™•ì¸
# F12 â†’ Console íƒ­
```

#### 2. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì˜¤ë¥˜
```bash
# Supabase ì—°ê²° í…ŒìŠ¤íŠ¸
npm run test:supabase

# í™˜ê²½ ë³€ìˆ˜ í™•ì¸
echo $SUPABASE_URL
echo $SUPABASE_SERVICE_ROLE_KEY
```

#### 3. ë¹Œë“œ ì˜¤ë¥˜
```bash
# ì˜ì¡´ì„± ì¬ì„¤ì¹˜
rm -rf node_modules package-lock.json
npm install

# TypeScript íƒ€ì… ì²´í¬
npx tsc --noEmit
```

### ë¡œê·¸ ë° ë””ë²„ê¹…

#### 1. ì„œë²„ ë¡œê·¸ í™•ì¸
```bash
# Cloudflare Workers ë¡œê·¸
npx wrangler tail

# ë¡œì»¬ ê°œë°œ ì„œë²„ ë¡œê·¸
npm run dev
```

#### 2. ë°ì´í„°ë² ì´ìŠ¤ ë¡œê·¸
- Supabase Dashboard â†’ Logs ì„¹ì…˜
- API í˜¸ì¶œ ë° ì—ëŸ¬ ë¡œê·¸ í™•ì¸

## ğŸ¤ ê¸°ì—¬ ê°€ì´ë“œ

### ê°œë°œ ì›Œí¬í”Œë¡œìš°
1. **ì´ìŠˆ ìƒì„±**: ê¸°ëŠ¥ ìš”ì²­ ë˜ëŠ” ë²„ê·¸ ë¦¬í¬íŠ¸
2. **ë¸Œëœì¹˜ ìƒì„±**: `feature/ê¸°ëŠ¥ëª…` ë˜ëŠ” `fix/ë²„ê·¸ëª…`
3. **ê°œë°œ ë° í…ŒìŠ¤íŠ¸**: ë¡œì»¬ í™˜ê²½ì—ì„œ ê°œë°œ
4. **Pull Request**: ì½”ë“œ ë¦¬ë·° ìš”ì²­
5. **ë°°í¬**: ìŠ¹ì¸ í›„ main ë¸Œëœì¹˜ ë³‘í•©

### ì½”ë“œ ìŠ¤íƒ€ì¼
- **TypeScript**: ì—„ê²©í•œ íƒ€ì… ì²´í¬
- **ESLint**: ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬
- **Prettier**: ì½”ë“œ í¬ë§·íŒ…
- **Conventional Commits**: ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™

## ğŸ“ ì§€ì› ë° ë¬¸ì˜

### ê°œë°œíŒ€ ì—°ë½ì²˜
- **GitHub Issues**: [í”„ë¡œì íŠ¸ ì´ìŠˆ í˜ì´ì§€](https://github.com/amaham1/grap_v2/issues)
- **ì´ë©”ì¼**: akapwhd@gmail.com

### ìœ ìš©í•œ ë§í¬
- **Nuxt 3 ë¬¸ì„œ**: https://nuxt.com/docs
- **Cloudflare Workers**: https://developers.cloudflare.com/workers/
- **Supabase ë¬¸ì„œ**: https://supabase.com/docs
- **ì¹´ì¹´ì˜¤ë§µ API**: https://apis.map.kakao.com/

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” **MIT ë¼ì´ì„ ìŠ¤** í•˜ì— ë°°í¬ë©ë‹ˆë‹¤.

```
MIT License

Copyright (c) 2024 GRAP Team

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

---

<div align="center">

**ğŸï¸ ì œì£¼ë„ ìƒí™œì„ ë” í¸ë¦¬í•˜ê²Œ, GRAPê³¼ í•¨ê»˜í•˜ì„¸ìš”! ğŸï¸**

[![Website](https://img.shields.io/badge/ğŸŒ-grap.co.kr-blue)](https://grap.co.kr)
[![GitHub](https://img.shields.io/badge/GitHub-grap__v2-black)](https://github.com/amaham1/grap_v2)

</div>
